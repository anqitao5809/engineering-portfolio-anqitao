# Abstract
The goal of this project was to design a timer using a synchronous counter that accurately counts from 0 to 59 seconds. The device had two inputs: an external clock operating at 1Hz frequency, and a “Reset” input that reset any number to 0 seconds when pressed. When the counting reached 59 without resetting, it cycled back to 0 and continued to count. The two digits of the number were simultaneously displayed on both 7-segment displays on the MyDAQ protoboard, with the ten’s digit being designed in SSI mode and one’s in MSI mode. This device required us to utilize digital electronics knowledge, including circuit design simulation (CDS) programs like Multisim, programmable logic devices (PLD) such as PLTW S7, multiplexers, and Arbitrary Waveform generator in NI Instruments.


# Skills Utilized
Old skill:  reset circuit, multiplexer, decoder,
New skill: 74LS163 Counter IC, 4 bit Synchronous counter SSI, arbitrary clock 
## Old Skills
Double digit counting was achieved by using an “add one” logic that connects the LSB to the MSB circuit (Fig.3). Whenever the LSB reaches the number 10, the AND gate sends a high signal to the clock (CLK) of the first D flip-flop in the MSB section. When the LSB resets to 0, the AND gate sends a low signal instead, completing the clock cycle. This meant that I needed an “add one” circuit for the number 10. Since it works the same way as the LSB reset circuit.
Since this project required us to display numbers using the built-in 7-segment displays on the MyDAQ protoboard, I used one binary-coded decimal (BCD) to 7-segment decoder (DEC_BCD_7) for each digit’s counter, which converts a binary number into its corresponding segment signals.
The two MyDAQ protoboard's seven-segment displays could only show the same number, even if both DIG0 and DIG1 were grounded. To display two different digits, I used a high-frequency clock signal to alternate between DIG0 and DIG1 while sending different segment signals to each display. This was achieved using a multiplexer (MUX2_1), with input A connected to the ten’s digit and input B to the one’s digit. The clock signal, divided by two 4-bit counters, ensured the multiplexers could handle the switching, making it appear as though both digits were displayed at once(Fig.4).

## New Skills
Synchronous counters in the SSI section were made with JK flip-flops that shared a common clock, which came from the LSB’s NAND output(Fig.3). I connected VCC to the preset of each flip-flop and to the J/K inputs of the first flip-flop. The positive Q output of the first flip-flop was then connected to the J and K inputs of the second flip-flop (for a down counter, the negative Q output would be used). Finally, I ANDed together the positive Q outputs of the first and second flip-flops and connected the result to the J and K inputs of the third flip-flop. This setup ensured that all flip-flops were triggered by the same clock signal's rising or falling edge, preventing any ripple effect.
In the MSI section, the synchronous counter 74LS163 was used, which integrates four flip-flops into a single IC. By connecting VCC to both the ENT and ENP pins, I enabled the counter to count continuously. Additionally, I connected all input pins to ground, ensuring that when the load was triggered by the NAND gate’s output of 0 (as explained in New Skills #3), the IC loaded a binary 0 (0000). The wiring diagram can be seen in Fig.1.
There were two sets of reset logic in the system. One set activated for the one’s digit when the displayed number reached 9 and for the ten’s digit when it reached 6. Another set reset both the SSI and MSI to 0 when the “Reset” input was 0. Since the 74LS163 counter has synchronous load and clear, it was important to note that, unlike in asynchronous counters where the reset occurs one step after the desired number, the reset in this system occurred precisely at the intended number, as the last number remained displayed for one full clock cycle. For instance, to reset the least significant bit (LSB) to 0, I used a NAND(4) gate so that when the inputs were 1, 0, 0, and 1, it outputted 0, triggering the Clear(Fig.2). In contrast, for the synchronous 3-bit counter used for the most significant bit (MSB), which had asynchronous preset and clear, the reset was triggered when the NAND(3) gate inputs were 110 (binary for 6), causing the number to reset to 0 without displaying the number 6. For the “Reset” button trigger, I AND together the first reset logic with the button, so that every time either equals 0, Clear would be activated. The full annotated Multisim design can be found in Fig.6. 
The clock that connects to the 74LS163 for the LSB is an external clock generated by MyDAQ. Unlike the traditional CLK signal produced by “Digital Write,” which doesn’t allow for customizable signal frequencies, I used the Arbitrary Waveform Generator (AWG) for this project to produce a precisely 1Hz signal. To set this up, I connected the MyDAQ cable to my computer and opened the NI MyDAQ software. After launching the program, I clicked on AWG and then pressed "Waveform Editor." The interface that opened allowed me to edit the waveform. I enabled Analog 0 and used a jumper wire to connect A0 on the protoboard to the external clock pin (pin 16) on the PLTW S7. In channel A0, I loaded a pre-edited 2V square wave with a 10 Hz frequency that came with the program.(Fig.7) I used a square wave to simulate high and low states for the clock signal, then reduced the frequency by changing the “Duration” from 10 seconds to 100 seconds(Fig.7), lowering the frequency by a factor of 10. After testing the waveform on an LED, which blinked at 1Hz, I connected the CLK signal to the PLD to complete the timer.


# Key Learnings & Reflections
Strategy: Using 4 bit counters to reduce clock frequency. My first iteration of the PLD design had the 12MHz clock directly connected to the selection lines on all multiplexers, which I later discovered was too fast for the device to properly switch between two numbers with the correct segment signals. I then tried using the external clock in MyDAQ, but it could only output a ~300 Hz clock, which wasn’t fast enough to simultaneously display two digits. To get a medium-speed clock, I inserted two 4-bit counters between the multiplexers and the external clock (Fig.5), dividing the frequency by 16 after each IC, which resulted in a 47 kHz clock signal. After uploading the circuit to PLTW S7, the two displays worked as expected.
Successes of the project. The overall process of the project went smoothly, from designing multiplexer systems to the double digit counters and generating clock signals with customized frequency. By following the steps highlighted in the Skills Utilized section and the strategy of reducing clock frequency, I successfully completed the challenge of making a 60 second timer with a reset button. 
Areas of improvement/Troubleshooting
Design system consistency. During the project, I transferred the same design file between different devices and discovered that when one design was imported to another device directly, the input/output connectors were formatted differently, which resulted in the circuit not working. To resolve this issue, I had to delete most of the original I/O connectors and re-add the new ones before uploading the program to PLTW S7.
Limit the number of connections at one junction. Some issues emerged in my design when more than three wires were connected at a single junction. For example, the clock signal from the second 4-bit counter was originally connected to the junction before the MSD digital pin, creating a four-wire junction. When the clock switched, I noticed that only the probe on the MSD lit up, but not the LSD, which should have been alternating due to the inverter gate. I resolved the issue by changing the clock connection to the junction before the LSD, ensuring that each junction had a maximum of three wires. The problem was then resolved.


# Appendix

Fig.1 74LS163 4-bit synchronous counter IC Multisim diagram





Fig.2 Reset circuit for 74LS163




Fig.3 “add one” circuit



Fig.4 Multiplexers for different segments.



Fig.5 Multiplexers and 4-bit counter frequency divider



Fig.6 Annotated diagram for the full design


Fig. 7 Arbitrary Wave Generator 

Video.1 timer counting from 0 to 59 seconds with reset triggers
